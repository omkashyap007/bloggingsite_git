{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <title>{% block title %} {% endblock title %}</title>

    <link
      rel="canonical"
      href="https://getbootstrap.com/docs/5.0/examples/blog/"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <style>
    </style>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <!-- Bootstrap core CSS -->
    <link
      href="/docs/5.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- Favicons -->


<style>
    </style>

    <!-- Custom styles for this template -->
    <link
      href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900&amp;display=swap"
      rel="stylesheet"
    />
    <!-- Custom styles for this template -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <style></style>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <link href=
"https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" 
          rel="stylesheet">
      
    <!-- Bootstrap JS -->
    <script src=
"https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js">
    </script>
    <style>
    </style>
  </head>

  <body style =  {% block body_content %} {% endblock body_content %} class = "theBody" id ="theBody">
    {% block header %}
    <header class="p-2 mb-2 border-bottom" 
    style = "background: linear-gradient(to right, rgba(166, 192, 254, 0.9), rgba(246, 128, 132, 0.9));">
      <div class="container" >
        <div
          class="
            d-flex
            flex-wrap
            align-items-center
            justify-content-center justify-content-lg-start
          "
        >
          <img
            src="{% static 'blog/site image black 3.jpg' %}"
            style = "width : 220px ; height : 80px ; border-radius : 20px ;  "
          />

          <ul
            class="
              nav
              col-12 col-lg-auto
              me-lg-auto
              mb-2
              justify-content-center
              mb-md-0
            "
          >
            <li>
              <a
                href="{% url 'blog-home' %}"
                class="nav-link px-2 link-secondary"
                >
                HOME</a
              >
            </li>
            <li>
              <a href="{% url 'blog-about' %}" class="nav-link px-2 link-dark"
                > ABOUT</a
              >
            </li>

            {% if request.user.is_authenticated %}
            <li>
              <a href="{% url 'post-create' %} " class="nav-link px-2 link-dark"
                >NEW POST</a
              >
            </li>
            {% endif %}
          </ul>
         

          <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" method = "post" 
          action = "{% url 'search-input' %}" >
            {% csrf_token %}
            <div style = "display : flex ; justify-content : space-around ;">
              
              <input
                name = "search_input" 
                type="search"
                class="form-control"
                placeholder="Search..."
                aria-label="Search"
                id = "search_input"
              >
              <input type ="submit"  value = "Search" class= "btn btn-secondary" >
            </div>
          </form> 
          {% if request.user.is_authenticated %}
          <div class="dropdown">
            <button style = "width : 50px ; height: 50px ;border-radius : 50%  ;
             background : url({{request.user.profile.image.url}}) ; background-size : 100% 100% ; "></button>
            <div class="dropdown-content" style = "background-color : white ; ">
            <a href="{% url 'profile-user' username=request.user.username %}" style = "align: center;">My Profile</a>
            <a href="{% url 'user-posts' username=request.user.username %}" style = "align:center;">My Posts</a>
            <a href="{% url 'logout-user'  %}" style = "align:center;">LogOut</a>
            </div>
          </div>
        </div>
          <style>
            .dropdown {
              z-index : 101 ; 
              display: inline-block;
              position: relative;
              align-content : center ; 
            }
            .dropdown-content {
              z-index : 101 ; 
              display: none;
              position: absolute;
              width: 200px;
              overflow: auto;
              box-shadow: 0px 10px 10px 0px rgba(0,0,0,0.4);
            }
            .dropdown:hover .dropdown-content {
              z-index : 101 ; 
              display: block;
              align-content : center ; 
            }
            .dropdown-content a {
              align-content : center ; 
              z-index : 101 ; 
              display: block;
              color: #000000;
              padding: 5px;
              text-decoration: none;
            }
            .dropdown-content a:hover {
              align-content : center ; 
              z-index : 101 ; 
              color: #FFFFFF;
              background-color: #00A4BD;
            }
          </style>
        {% else %}
        <a href = "{% url 'login-user' %}" class = "btn btn-sm btn-outline-secondary">
          <strong>Login</strong>
        </a>
        {% endif %}
    </header>
    {% endblock header %}

    <div class="container" >
      {% if messages %} 
        {% for message in messages %}
         {% if message.tags == "error" %}
         <div class="alert alert-warning alert-dismissible fade show" role="alert" style = "color: red ; ">{{message}}
            <button type="button" class="btn-close" 
                      data-bs-dismiss="alert" 
                      aria-label="Close">
            </button>
          </div>
        {% else %}
        <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
          {{message}}
          <button type="button" class="btn-close" 
                    data-bs-dismiss="alert" 
                    aria-label="Close">
          </button>
        </div>
        {% endif %}
        {% endfor %}

      {% endif %}
      
      {% block content %} {% endblock content %}
    </div>

    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
